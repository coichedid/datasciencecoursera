lm(total~y)
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
only_script <- "plot2.R"
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
SCC <- dataframes$SCC
unique(SCC$EI.Sector)
unique(SCC$EI.Sector)[grep("mobile",unique(SCC$EI.Sector),ignore.case = T)]
only_script <- "plot5.R"
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
unique(SCC_Codes$EI.Sector)
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
motor.vehicles_Emissins
motor.vehicles_Emissins
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
only_script <- "plot6.R"
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
motor.vehicles_Emissions
boxplot(motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "06037",]$total.emission)
par(mfrow=c(2,1))
boxplot(motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "06037",]$total.emission)
par(mfrow=c(1,2))
boxplot(motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "06037",]$total.emission)
boxplot(motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "24510",]$total.emission)
sd(motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "24510",]$total.emission)
sd(motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "06037",]$total.emission)
la_emissions <- motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "06037",]$total.emission
la_emissions
la_emissions <- la_emissions / mean(la_emissions)
la_emissions
la_emissions <- motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "24510",]$total.emission
ba_emissions <- motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "24510",]$total.emission
la_emissions <- motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "06037",]$total.emission
la_emissions <- la_emissions / mean(la_emissions)
ba_emissions <- ba_emissions /mean(ba_emissions)
ba_emissions
motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "24510",]$total.emission <- ba_emissions
motor.vehicles_Emissions[motor.vehicles_Emissions$fips == "06037",]$total.emission <- la_emissions
motor.vehicles_Emissions
motor.vehicles_Emissions$total.emission2 <- c(..la_emissions,..ba_emissions)
motor.vehicles_Emissions$total.emission2 <- c(la_emissions..,ba_emissions..)
motor.vehicles_Emissions$total.emission2 <- c(la_emissions,ba_emissions)
motor.vehicles_Emissions
par(mfrow=c(1,1))
only_script <- "plot6.R"
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
install.packages("cowplot")
library(cowplot)
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
rm(only_script)
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
sapply(scripts,run.analysis)
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
unique(NEI$year)
?barplot
pm25year<-with(NEI,aggregate(Emissions,by=list(year),sum))
plot(pm25year,type="o",main="Total PM2.5 emissions per year in the US",xlab="Year",ylab="PM2.5 emissions",col="red")
data.exists <- TRUE ## reload data
source('~/Projetos/Data_Science/datasciencecoursera/course4_Exploratory_Data_Analysis/Week_4/Project_Assignment/project_run.R')
setwd("~/Projetos/Data_Science/Treinamento Machine Learning/treinamento")
library(XML)
?xpathSApply
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
root
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
doc
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
update_node
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
dataAtualizacao
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
dataAtualizacao
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
dataAtualizacao
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
dataAtualizacao
install.packages("hashmap")
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
?readRDS
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
sys.frame(1)
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
getwd()
d <- as.Date("19 08 2017","%d %m %Y")
saveRDS(d,"./crawler/ultimaAtualizacao.rds")
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
View(estaAtualizado)
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
str(nos)
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
?xmlNode
n <- getNodeSet(doc,"//ul[@class = 'square'")
n <- getNodeSet(doc,"//ul[@class = 'square']")
n
?xmlAttrs
?xmlGetAttr()
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs <<- xpathSApply(nos,"//a",xmlGetAttr,"href")
n <- getNodeSet(doc,"//ul[@class = 'square']//a")
n <- getNodeSet(doc,"//ul[@class = 'square']")
n[1]
class(doc)
class(n)
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
class(n[1])
class(n[1][1])
n
n[1]
n1 <- n[1]
class(n1)
n1 <- n[[1]]
class(n1)
xpathSApply(n1,"//a",xmlGetAttr,"href")
n <- getNodeSet(doc,"/body//ul[@class = 'square']")
n <- getNodeSet(doc,"/body/ul[@class = 'square']")
n <- getNodeSet(doc,"//ul[@class = 'square']")
n <- xpathSApply(doc,"//ul[@class = 'square']",function(el) el)
n
class(n[1])
class(n[[1]])
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
n2
class(n2)
n2["ul"]
n2[["ul"]]
names(n2)
n2[["li"]]
n2[["li"]][["p"]]
n2[["li"]][["p"]]["a"]
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
h
n2
n2[["li"]]
class(n2)
sapply(n2[["li"]][["p"]][a],xmlValue)
sapply(n2[["li"]][["p"]]["a"],xmlValue)
names(n2)
n2["li"]
n2["li"]["p"]
n2[["li"]]
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
l <- n2[["li"]]
l
l <- n2["li"]
l
l$li
lapply(n2["li"],function(el) print(el))
n2
lapply(n2["li"],function(el) print(el))
lapply(n2["li"],function(el) print(el);xmlGetAttr(el[["li"]][["p"]]["a"],"href"))
lapply(n2["li"],function(el) {print(el);xmlGetAttr(el[["li"]][["p"]]["a"],"href")})
lapply(n2["li"],function(el) print(el[["li"]]))
lapply(n2["li"],function(el) print(el$li))
lapply(n2["li"],function(el) print(el["li"]))
lapply(n2["li"],function(el) {print(el);xmlGetAttr(el["li"][["p"]]["a"],"href")})
lapply(n2["li"],function(el) print(el["li"]["p"]))
lapply(n2["li"],function(el) print(el["li"][["p"]]))
lapply(n2["li"],function(el) print(el))
lapply(n2["li"],function(el) print(el["p"]))
lapply(n2["li"],function(el) print(el[["p"]]))
lapply(n2["li"],function(el) print(el[["p"]]["a"]))
lapply(n2["li"],function(el) {print(el[["p"]]["a"]);xmlGetAttr(el[["p"]]["a"],"href")})
lapply(n2["li"],function(el) {print(el[["p"]]["a"]);xmlGetAttr(el,"href")})
sapply(n2["li"],function(el) {print(el[["p"]]["a"]);xmlGetAttr(el,"href")})
sapply(n2["li"],function(el) {print(xmlGetAttr(el,"href"))})
sapply(n2["li"],function(el) {print(xmlGetAttr(el[["li"]],"href"))})
sapply(n2["li"],function(el) {print(xmlGetAttr(el[["p"]],"href"))})
sapply(n2["li"],function(el) {print(xmlGetAttr(el[["p"]]["a"],"href"))})
sapply(n2["li"],function(el) {print(xmlGetAttr(el[["p"]][["a"]],"href"))})
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
sapply(n2["li"],function(el) {print(xmlGetAttr(el[["p"]][["a"]],"href"))})
hrefs[1]
hrefs[1]$li
hrefs[[1]]
hrefs[[1]]$li
apply(n2["li"],function(el) {print(xmlGetAttr(el[["p"]][["a"]],"href"))})
apply(n2["li"],FUN=function(el) {print(xmlGetAttr(el[["p"]][["a"]],"href"))})
apply(n2["li"],1,FUN=function(el) {print(xmlGetAttr(el[["p"]][["a"]],"href"))})
sapply(n2["li"],function(el) {print(xmlGetAttr(el[["p"]][["a"]],"href"))})
l1 <- sapply(n2["li"],function(el) {print(xmlGetAttr(el[["p"]][["a"]],"href"))})
l1
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs
hrefs[[1]]
names(hrefs[[1]])
names(hrefs[[1]]) <- c()
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
View(hrefs)
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs[1]
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs[1]
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hrefs[1]
?require
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
hashmap()
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
getwd()
## Atualiza a literatura das aulas com base na data de atualizacao
wd <- getwd()
script.dir <- dirname(sys.frame(1)$file)
setwd(script.dir)
carregaDependencias <- function() {
if (!require(XML)) {
install.packages("XML")
library(XML)
}
if (!require(stringr)) {
install.packages("stringr")
library(stringr)
}
if (!require(hashmap)) {
install.packages("hashmap")
library(hashmap)
}
}
## Parse data de atualizacao do site
## Compara com a ultima data de atualizacao
estaAtualizado <- function(atualizacao) {
meses <- hashmap(c("janeiro","fevereiro","março","abril","maio", "junho",
"julho","agosto","setembro","outubro","novembro","dezembro"),
1:12)
## Parse da data do site
dataAtualizacao <- strsplit(atualizacao,":")[[1]][2]
dataAtualizacao <- str_match(dataAtualizacao,"^ ([0-3][0-9]) de (.*), ([0-9]{4})\\.")
dataAtualizacao[1,3] <- meses[[tolower(dataAtualizacao[1,3])]]
dataAtualizacao <- as.Date(paste(dataAtualizacao[1,2],dataAtualizacao[1,3],
dataAtualizacao[1,4]),"%d %m %Y")
estaAtualizado <- F
## Recupera a ultima data salva
if (file.exists("./ultimaAtualizacao.rds")) {
ultimaAtualizacao <- readRDS ("./ultimaAtualizacao.rds")
estaAtualizado <- ultimaAtualizacao == dataAtualizacao
}
saveRDS(dataAtualizacao,"./ultimaAtualizacao.rds")
return(estaAtualizado)
}
## Define a ultima data de atualizacao para muito no passado
forcaAtualizacao <- function() {
d <- as.Date("01 01 1980","%d %m %Y")
saveRDS(d,"./ultimaAtualizacao.rds")
}
extraiHrefs <- function(no) {
print("Outro nó")
#print(no)
h <- sapply(no["li"],function(el) paste(base_uri,
xmlGetAttr(el[["p"]][["a"]],"href"),
sep = "/"))
n <- sapply(no["li"],function(el) xmlValue(el[["p"]][["a"]]))
names(h) <- c()
names(n) <- c()
return(matrix(c(h,n),nrow = length(h)))
}
baixaArquivos <- function(doc) {
nos <- xpathSApply(doc,"//ul[@class = 'square']",function(el) el)
hrefs <<- sapply(nos,extraiHrefs)
}
carregaDependencias()
forcaAtualizacao()
base_uri <- "http://www.im.ufrj.br/ralph"
uri <- paste(base_uri,"treinamento.html",sep = "/")
doc <- htmlTreeParse(uri,useInternalNodes = T)
atualizacao <- xpathSApply(doc,"//font[@face='Arial, Helvetica, sans-serif']/b",xmlValue)
atualizado <- estaAtualizado(atualizacao)
if (!atualizado) {
baixaArquivos(doc)
}
setwd(wd)
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
## Atualiza a literatura das aulas com base na data de atualizacao
wd <- getwd()
script.dir <- dirname(sys.frame(1)$file)
setwd(script.dir)
carregaDependencias <- function() {
if (!require(XML)) {
install.packages("XML")
library(XML)
}
if (!require(stringr)) {
install.packages("stringr")
library(stringr)
}
if (!require(hashmap)) {
install.packages("hashmap")
library(hashmap)
}
}
## Parse data de atualizacao do site
## Compara com a ultima data de atualizacao
estaAtualizado <- function(atualizacao) {
meses <- hashmap(c("janeiro","fevereiro","março","abril","maio", "junho",
"julho","agosto","setembro","outubro","novembro","dezembro"),
1:12)
## Parse da data do site
dataAtualizacao <- strsplit(atualizacao,":")[[1]][2]
dataAtualizacao <- str_match(dataAtualizacao,"^ ([0-3][0-9]) de (.*), ([0-9]{4})\\.")
dataAtualizacao[1,3] <- meses[[tolower(dataAtualizacao[1,3])]]
dataAtualizacao <- as.Date(paste(dataAtualizacao[1,2],dataAtualizacao[1,3],
dataAtualizacao[1,4]),"%d %m %Y")
estaAtualizado <- F
## Recupera a ultima data salva
if (file.exists("./ultimaAtualizacao.rds")) {
ultimaAtualizacao <- readRDS ("./ultimaAtualizacao.rds")
estaAtualizado <- ultimaAtualizacao == dataAtualizacao
}
saveRDS(dataAtualizacao,"./ultimaAtualizacao.rds")
return(estaAtualizado)
}
## Define a ultima data de atualizacao para muito no passado
forcaAtualizacao <- function() {
d <- as.Date("01 01 1980","%d %m %Y")
saveRDS(d,"./ultimaAtualizacao.rds")
}
extraiHrefs <- function(no) {
print("Outro nó")
#print(no)
h <- sapply(no["li"],function(el) paste(base_uri,
xmlGetAttr(el[["p"]][["a"]],"href"),
sep = "/"))
n <- sapply(no["li"],function(el) xmlValue(el[["p"]][["a"]]))
names(h) <- c()
names(n) <- c()
return(matrix(c(h,n),nrow = length(h)))
}
baixaArquivos <- function(doc) {
nos <- xpathSApply(doc,"//ul[@class = 'square']",function(el) el)
hrefs <<- sapply(nos,extraiHrefs)
}
carregaDependencias()
forcaAtualizacao()
base_uri <- "http://www.im.ufrj.br/ralph"
uri <- paste(base_uri,"treinamento.html",sep = "/")
doc <- htmlTreeParse(uri,useInternalNodes = T)
atualizacao <- xpathSApply(doc,"//font[@face='Arial, Helvetica, sans-serif']/b",xmlValue)
atualizado <- estaAtualizado(atualizacao)
if (!atualizado) {
baixaArquivos(doc)
}
setwd(wd)
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
strsplit(f,",")
strsplit(f,",")[[1]]
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
for (i in script.dir) print(i)
names(hrefs)
hrefs
names(hrefs) <- c("Literatura","Aulas","Exemplos","Apoio","Dados")
hrefs["Literatura"]
?download.file
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento Machine Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento_Machine_Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento_Machine_Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento_Machine_Learning/treinamento/crawler/crawler.R')
f <- hrefs[["Literatura"]]
dim(f)
source('~/Projetos/Data_Science/Treinamento_Machine_Learning/treinamento/crawler/crawler.R')
warnings()
substr("abcdef", 2, 4)
substr("abcdef", 2)
substring("abcdef",2)
source('~/Projetos/Data_Science/Treinamento_Machine_Learning/treinamento/crawler/crawler.R')
warnings
warnings()
source('~/Projetos/Data_Science/Treinamento_Machine_Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento_Machine_Learning/treinamento/crawler/crawler.R')
warnings()
source('~/Projetos/Data_Science/Treinamento_Machine_Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento_Machine_Learning/treinamento/crawler/crawler.R')
source('~/Projetos/Data_Science/Treinamento_Machine_Learning/treinamento/crawler/crawler.R')
setwd("~/Projetos/Data_Science/datasciencecoursera/course5_Reproducible_Research/Week_1")
download.file("https://d3c33hcgiwev3.cloudfront.net/_e143dff6e844c7af8da2a4e71d7c054d_payments.csv?Expires=1503705600&Signature=Fc7Ka1DPKAe3bDqHMJqwhFtTgGn8fpcvB-hxjcKKqWtnhEnJtlGQTKxcAcGjDVA9oa-qr4Ii136OJEOjtB222-WWP6AeKO59FgLMCV-F55ODZy0abPiP4Nwf~htIeg7zs-k9SvJ8N64qV6~2XTZGqYmvMncdr2rM9aTmLlsSIHw_&Key-Pair-Id=APKAJLTNE6QMUY6HBC5A","./data")
download.file("https://d3c33hcgiwev3.cloudfront.net/_e143dff6e844c7af8da2a4e71d7c054d_payments.csv?Expires=1503705600&Signature=Fc7Ka1DPKAe3bDqHMJqwhFtTgGn8fpcvB-hxjcKKqWtnhEnJtlGQTKxcAcGjDVA9oa-qr4Ii136OJEOjtB222-WWP6AeKO59FgLMCV-F55ODZy0abPiP4Nwf~htIeg7zs-k9SvJ8N64qV6~2XTZGqYmvMncdr2rM9aTmLlsSIHw_&Key-Pair-Id=APKAJLTNE6QMUY6HBC5A","./data/payments.csv")
d <- read.csv("./data/payments.csv")
d
names(d)
